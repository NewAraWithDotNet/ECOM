@model IEnumerable<OnlineOrderingSystem.Models.Product>



<div id="category-details-container" class="product-list">
    @foreach (var product in Model)
    {
        <div class="product-card">
            <div class="card product-item border-0 mb-4 w-100">
                <div class="product-image-container">
                    <img class="product-image" src="~/images/@product.Image" alt="@product.Name">
                </div>
                <div class="card-body border-left border-right text-center p-0 pt-4 pb-3">
                    <a class="text-decoration-none">
                        <h6 class="text-truncate mb-3">@product.Name</h6>
                    </a>

                    <div class="product-options">
                        @if (product.ProductOptions != null && product.ProductOptions.Count > 0)
                        {
                            <p><strong>Options:</strong></p>
                            <ul class="list-unstyled">
                                @foreach (var option in product.ProductOptions)
                                {
                                    <li>
                                        <input type="radio" name="option-@product.Id" value="@option.OptionPrice" data-product-id="@product.Id" data-option-id="@option.Id" onchange="updatePrice(@product.Id, @option.OptionPrice)"> @option.OptionName: @option.OptionPrice.ToString("C")
                                    </li>
                                }
                            </ul>
                        }
                        else
                        {
                            <div class="d-flex justify-content-center">
                                <h6><p class="card-text"><strong>Price:</strong> <span id="price-@product.Id">@product.Price.ToString("C")</span></p></h6>
                            </div>
                        }
                    </div>
                </div>
                <div class="card-footer d-flex justify-content-center bg-light border">
                    <a href="@Url.Action("Details", "Products", new { id = product.Id })" class="btn btn-sm text-dark p-0">
                        <i class="fas fa-eye text-primary mr-1"></i>View Detail
                    </a>
                </div>
            </div>
        </div>
    }
</div>
<style>
    .product-list {
        margin-top: 3rem;
        display: flex;
        gap: 2rem;
        justify-content:center;
    }

    .product-card {
        display: flex;
        flex-direction: row;
        gap: 1rem;
        width:200px;
    }

    .product-image-container {
        position: relative;
        width: 100%;
        height: 20rem;
        overflow:hidden;
        display:flex;
        justify-content: center; 
        align-items: center;
        height: auto; 
        position: relative;
    }

    .product-image {
        max-width: 100%; 
        max-height: 100%; 
        object-fit: contain;
        object-fit: cover;
        border-radius: 0.5rem;
        transition: opacity 0.5s ease;
    }

        .product-image:hover {
            opacity: 0;
        }

    .product-details {
        display: flex;
        justify-content: space-between;
    }
</style>